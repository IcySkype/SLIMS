{% extends "base.html" %}
{% block extra_styles %}
<style>
.custom-rounded-table {
    border-radius: 8px !important; /* Round the table corners */
    overflow: hidden; /* Prevent content from overflowing outside the rounded corners */
}

.custom-rounded-table th,
.custom-rounded-table td {
    border-radius: 0px; /* Optional: Ensure that table cell corners are squared */
}

.custom-rounded-table thead {
    border-top-left-radius: 8px;
    border-top-right-radius: 8px; /* Round the top corners of the header */
}

.custom-rounded-table tfoot {
    border-bottom-left-radius: 8px;
    border-bottom-right-radius: 8px; /* Round the bottom corners of the footer if applicable */
}
.pagination-container {
    margin-top: 20px; /* Add space between the table and pagination */
}
</style>
{% endblock %}
{% block content %}
<h2>Requests</h2>
<br>

<h3>Material Requests</h3>
<table class="table table-striped table-bordered custom-rounded-table">
  <thead class="thead-dark ">
    <tr>
      <th class="text-center">Control Number</th>
      <th class="text-center">Title of Experiment</th>
      <th class="text-center">Teacher</th>
      <th class="text-center">Department</th>
      <th class="text-center">Request Date</th>
      <th class="text-center">Request Time</th>
      <th class="text-center">Status</th>
      <th class="text-center">Action</th>
    </tr>
  </thead>
  <tbody>
  {% if material_requests %}
    {% for request in material_requests %}
      <tr>
        <td>{{ request.request.control_number }}</td>
        <td>{{ request.title_of_experiment }}</td>
        <td>{{ request.teacher }}</td>
        <td>{{ request.department }}</td>
        <td>{{ request.request_on_date }}</td>
        <td>{{ request.request_on_time }}</td>
        <td>{{ request.get_status_display }}</td>
        <td>
          <a href="{% url 'view_request' request.request.pk %}" class="btn btn-info btn-sm">View</a>
        </td>
      </tr>
    {% endfor %}
  {% else %}
    <tr>
      <td colspan="8" class="text-center">No material requests available.</td>
    </tr>
  {% endif %}
  </tbody>
</table>

{% if user.user_type == 'lab_technician' %}
<h3>Lab Apparel Requests</h3>
<table class="table table-striped table-bordered custom-rounded-table">
  <thead class="thead-dark ">
    <tr>
      <th class="text-center">Control Number</th>
      <th class="text-center">Student</th>
      <th class="text-center">Course & Year</th>
      <th class="text-center">Borrowed Item</th>
      <th class="text-center">Request Date</th>
      <th class="text-center">Request Time</th>
      <th class="text-center">Status</th>
      <th class="text-center">Action</th>
    </tr>
  </thead>
  <tbody>
  {% if lab_apparel_requests %}
    {% for request in lab_apparel_requests %}
      <tr>
        <td>{{ request.request.control_number }}</td>
        <td>{{ request.student }}</td>
        <td>{{ request.course_and_year }}</td>
        <td>{{ request.borrowed_item }}</td>
        <td>{{ request.request_on_date }}</td>
        <td>{{ request.request_on_time }}</td>
        <td>{{ request.get_status_display }}</td>
        <td>
          <a href="{% url 'view_request' request.request.pk %}" class="btn btn-info btn-sm">View</a>
        </td>
      </tr>
    {% endfor %}
  {% else %}
    <tr>
      <td colspan="8" class="text-center">No lab apparel requests available.</td>
    </tr>
  {% endif %}
  </tbody>
</table>
{% endif %}
{% endblock %}
